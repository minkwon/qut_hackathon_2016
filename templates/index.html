<!DOCTYPE html>
<html lang="en">

{% load static %}
<head>
    <meta charset="UTF-8">
    <title>{% block title %}Thesis project{% endblock %}</title>
    <script type="text/javascript" src={% static "qut_hackathon_2016/d3.js" %}></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
    <link rel="stylesheet" type="text/css" href={% static "qut_hackathon_2016/style.css" %}>

    <nav>
    <ul>
      <li><a href="/">Home</a></li>
      <li><a href="/timeline">Timeline</a></li>
      <li><a href="/">C</a></li>
    </ul>
  </nav>
    {% block style %}
    <style type="text/css">
      .chart div {
        font: 20px sans-serif;
        background-color: steelblue;
        text-align: left;
        padding: 10px;
        margin: 1px;
        color: white;
      }
    </style>
    {% endblock %}
</head>
<body>
  {% block content %}
  <div class="container">
    <h1>What's popular?</h1>
    <h2>Data between Apr/2009 - Jul/2016</h2>
    <div class="chart" width="1000"></div>

    <script type="text/javascript">
        var data = {{ data|safe }};
        d3.select(".chart")
            .selectAll("div")
                .data(data)
                .enter()
                .append("div")
                .style("width", function(d) { return d[1]/1143865 * 100 + "%"; })
                .text(function(d) { return d[0] + " " + d[1] + ", "
                        + (Math.round(d[1]/12229758 * 10000) / 100)
                        + "% of all questions"; });
    </script>
  </div>
  {% endblock %}
</body>
</html>